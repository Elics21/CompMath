def lagrange(x, y, x_new):
    """
    Вычисляет значение интерполяционного многочлена Лагранжа
    в точках x_new, используя данные x и y.

    Аргументы:
    x - список x-координат опорных точек
    y - список y-координат опорных точек
    x_new - список точек, в которых нужно вычислить интерполяцию

    Возвращает:
    Список значений интерполяционного многочлена Лагранжа в точках x_new
    """
    n = len(x)
    y_new = []

    for x_i in x_new:
        L = 0
        for i in range(n):
            li = 1
            for j in range(n):
                if j != i:
                    li *= (x_i - x[j]) / (x[i] - x[j])
            L += y[i] * li
        y_new.append(L)

    return y_new

# Пример использования
# Исходные данные
x = [0, 1, 2, 3]
y = [1, 4, 9, 16]

# Точки, в которых нужно вычислить интерполяцию
x_new = [0.5, 1.5, 2.5]

# Вычисляем интерполяцию
y_new = lagrange(x, y, x_new)

# Выводим результаты
for i in range(len(x_new)):
    print(f"x = {x_new[i]}, y = {y_new[i]}")